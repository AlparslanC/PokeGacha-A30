<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <title>PokéGacha</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/battle.css" />
    <link rel="manifest" href="manifest.json" />
    <link rel="apple-touch-icon" href="images/icon-192x192.png" />
    <link rel="icon" href="images/icon-192x192.png" />
    <meta name="theme-color" content="#f44336" />
  </head>
  <body>
    <header>
      <h1>PokéGacha</h1>
      <div class="stats">
        <div class="stat-item pokeball-stat">
          <img src="images/pokeball.png" alt="Pokéball" class="stat-icon">
          <span id="pokeball-timer" class="stat-number">5</span>
        </div>
        <div class="stat-item">
          <img src="images/pokemon-icon.png" alt="Pokémon" class="stat-icon" />
          <span id="pokemon-count" class="stat-number">0</span>
        </div>
        <div class="stat-item">
          <img src="images/egg.png" alt="Œuf" class="stat-icon">
          <span id="egg-count" class="stat-number">0</span>
        </div>
        <div class="stat-item">
          <img src="images/super-bonbon.png" alt="Bonbon" class="stat-icon">
          <span id="candy-count" class="stat-number">0</span>
        </div>
      </div>
    </header>

    <main>
      <div class="tabs">
        <div class="tab active" data-tab="catch">Capturer</div>
        <div class="tab" data-tab="collection">Collection</div>
        <div class="tab" data-tab="eggs">Œufs</div>
        <div class="tab" data-tab="photos">Photos</div>
        <div class="tab" data-tab="shop">Boutique</div>
        <div class="tab" data-tab="battle">Arène</div>
      </div>

      <div id="catch" class="tab-content active">
        <div class="pokeball-container">
          <div id="pokeball" class="pokeball"></div>
          <button id="open-pokeball" class="action-button">
            Ouvrir une Pokéball
          </button>
        </div>
      </div>

      <div id="collection" class="tab-content">
        <div class="collection-container">
          <div id="evolution-controls-container"></div>
          <div id="pokemon-list" class="pokemon-collection"></div>
        </div>
      </div>

      <div id="eggs" class="tab-content">
        <div id="egg-list" class="egg-collection"></div>
      </div>

      <div id="photos" class="tab-content">
        <div class="photo-container">
          <div class="camera-controls">
            <button id="switch-camera" class="control-button">
              <i class="fas fa-sync"></i>
              Changer de caméra
            </button>
          </div>
          <div class="camera-wrapper">
            <video id="camera-view" autoplay playsinline style="touch-action: none;"></video>
            <canvas id="camera-canvas"></canvas>
          </div>
          <button id="take-photo" class="action-button">
            Prendre une photo
          </button>
          <div class="pokemon-position-controls">
            <button id="move-up" class="control-button" title="Monter le Pokémon">↑</button>
            <div class="horizontal-controls">
              <button id="move-left" class="control-button" title="Déplacer à gauche">←</button>
              <button id="move-right" class="control-button" title="Déplacer à droite">→</button>
            </div>
            <button id="move-down" class="control-button" title="Descendre le Pokémon">↓</button>
            <div class="size-controls">
              <button id="size-down" class="control-button" title="Réduire le Pokémon">-</button>
              <button id="size-up" class="control-button" title="Agrandir le Pokémon">+</button>
            </div>
          </div>
          <div id="photo-pokemon-selection" class="pokemon-selection"></div>
        </div>
        <div id="photos-list" class="photos-gallery"></div>
      </div>

      <div id="shop" class="tab-content">
        <div id="shop-container"></div>
      </div>

      <div id="battle" class="tab-content">
        <div id="battle-container"></div>
      </div>
    </main>

    <div id="pokemon-modal" class="modal">
      <div class="modal-content">
        <span id="modal-close" class="close">&times;</span>
        <h2 id="modal-pokemon-name"></h2>
        <img id="modal-pokemon-image" alt="Pokémon" class="modal-image" />
        <div id="modal-pokemon-info"></div>
      </div>
    </div>

    <div id="loader" class="loader">
      <div class="spinner"></div>
    </div>

    <div id="notification" class="notification"></div>

    <!-- Models -->
    <script src="js/models/AppStateModel.js"></script>
    <script src="js/models/PokemonModel.js"></script>
    <script src="js/models/EggModel.js"></script>
    <script src="js/models/StorageModel.js"></script>
    <script src="js/models/ShopModel.js"></script>
    <script src="js/models/BattleModel.js"></script>

    <!-- Views -->
    <script src="js/views/BaseView.js"></script>
    <script src="js/views/PokemonCollectionView.js"></script>
    <script src="js/views/EggCollectionView.js"></script>
    <script src="js/views/PhotoCollectionView.js"></script>
    <script src="js/views/UIView.js"></script>
    <script src="js/views/ShopView.js"></script>
    <script src="js/views/ConnectivityView.js"></script>
    <script src="js/views/BattleView.js"></script>

    <!-- Presenters -->
    <script src="js/presenters/GameLogicPresenter.js"></script>
    <script src="js/presenters/PhotoPresenter.js"></script>
    <script src="js/presenters/BattlePresenter.js"></script>
    <script src="js/presenters/MainPresenter.js"></script>

    <!-- Services -->
    <script src="js/services/ServiceWorkerService.js"></script>
    <script src="js/services/ConnectivityService.js"></script>

    <!-- Application -->
    <script src="js/Application.js"></script>
  </body>
</html>
